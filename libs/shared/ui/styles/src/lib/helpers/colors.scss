// color scheme goes here

// theme aliases, these change based on theme
$theme-colors: (
	'primary': --todo-primary,
	'accent': --todo-accent,
	'warn': --todo-warn,
);

// use case aliases, these change based on theme
$use-case-colors: (
	'background': --todo-background,
	'selected': --todo-selected,
	'hover': --todo-hover,
);

// unit aliases, these stay the same regardless of theme
$unit-colors: (
	'black': --todo-black,
	'white': --todo-white,
);

$unit-colors-vals: (
	'black': #000,
	'white': #fff,
);

// outside of theme colors

// functions
@mixin generateUnitColors {
	--todo-black: #{map-get($unit-colors-vals, 'black')};
	--todo-white: #{map-get($unit-colors-vals, 'white')};
}

@function get-all-colors() {
	@return map-merge(map-merge($theme-colors, $use-case-colors), $unit-colors);
}

$_color-palette: get-all-colors();

@function get-color-contrast($color) {
	$contrast-light: map-get($unit-colors-vals, 'white');
	$contrast-dark: map-get($unit-colors-vals, 'black');
	$color-brightness: _get-color-brightness($color);
	@if $color-brightness == 'dark' {
		@return $contrast-light;
	} @else {
		@return $contrast-dark;
	}
}

@function _get-color-brightness($color) {
	$red: red($color);
	$green: green($color);
	$blue: blue($color);

	/*
    Color brightness is determined by the following formula:
    ((Red value X 299) + (Green value X 587) + (Blue value X 114)) / 1000
  */
	$color-brightness: (($red * 299) + ($green * 587) + ($blue * 114)) / 1000;

	/* The range for color brightness difference is 125 */
	$color-range: 128;

	@if $color-brightness == 255 {
		@return 'white';
	} @else if $color-brightness >= $color-range {
		@return 'light';
	} @else {
		@return 'dark';
	}
}

@function get-color($color-name) {
	@return var(map-get($_color-palette, $color-name));
}
